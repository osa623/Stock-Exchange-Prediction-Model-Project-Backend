# AI Extractor Configuration for Bank Financial Statements

# Entity Configuration
entity:
  type: "bank"  # Options: bank, insurance, finance, other
  default_currency: "LKR"
  default_unit: "thousands"  # thousands, millions, billions

# PDF Processing Settings
pdf:
  dpi: 300  # DPI for PDF to image conversion
  max_pages: 200  # Maximum pages to process
  skip_pages: []  # Pages to skip (e.g., [1, 2] for cover pages)
  
# OCR Settings
ocr:
  enabled: true
  engine: "tesseract"  # Options: tesseract, google_vision, aws_textract
  language: "eng"
  confidence_threshold: 60  # Minimum OCR confidence (0-100)
  preprocess: true  # Apply image preprocessing
  
# Table Extraction Settings
table_extraction:
  method: "pdfplumber"  # Options: pdfplumber, camelot, tabula
  flavor: "lattice"  # For camelot: lattice or stream
  edge_tol: 50
  row_tol: 15
  column_tol: 3
  
# AI/LLM Settings
ai:
  provider: "rule-based"  # Options: gemini (FREE), openai, anthropic, rule-based (NO API)
  model: "gemini-1.5-flash"  # Or gemini-1.5-pro, gpt-4-turbo-preview, claude-3-opus-20240229
  temperature: 0.1
  max_tokens: 4000
  timeout: 120  # seconds
  retry_attempts: 3
  use_rule_based_fallback: true  # Use rule-based extraction if API fails
  
# Extraction Settings
extraction:
  use_term_mapping: true
  fuzzy_matching: true
  fuzzy_threshold: 85  # 0-100
  extract_comparative_period: true  # Extract previous year data
  validate_accounting_rules: true
  
# Schema Configuration
schema:
  target_schema: "target_schema_bank"
  term_mapping: "term_mapping_bank"
  
# Validation Settings
validation:
  min_confidence_score: 0.7  # 0-1
  check_totals: true
  check_balance_sheet_equation: true  # Assets = Liabilities + Equity
  tolerance_percentage: 0.01  # 1% tolerance for validation
  
# Output Settings
output:
  format: "json"  # Options: json, csv, excel, database
  save_intermediate: true  # Save intermediate extraction steps
  include_metadata: true
  include_confidence_scores: true
  
# Storage Paths
paths:
  raw_pdfs: "data/raw/"
  processed_json: "data/processed/extracted_json/"
  temp_tables: "data/temp/tables/"
  logs: "logs/"
  
# Logging Settings
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  console: true
  file: true
  max_file_size_mb: 10
  backup_count: 5
  
# Performance Settings
performance:
  parallel_processing: false
  max_workers: 4
  chunk_size: 10  # For batch processing
  
# Database Settings (Optional)
database:
  enabled: false
  type: "postgresql"  # Options: postgresql, mysql, sqlite
  host: "localhost"
  port: 5432
  database: "financial_data"
  # username and password should be in .env file
